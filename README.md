# å·¥ä¸šå°ç¨‹åºå¼€å‘ä¸è®¾è®¡

[![standard-readme compliant](https://img.shields.io/badge/readme%20style-standard-brightgreen.svg?style=flat-square)](https://github.com/RichardLitt/standard-readme)

Bupt ç§»åŠ¨ç½‘äº’è”ç½‘åº”ç”¨å¼€å‘è¯¾ç¨‹è®¾è®¡

æœ¬ä»“åº“ä¸»è¦é’ˆå¯¹[CWRUè½´æ‰¿æ•…éšœæ•°æ®é›†](https://csegroups.case.edu/bearingdatacenter/home)ï¼Œè¿›è¡Œæ•…éšœç±»å‹çš„æ£€æµ‹ï¼Œå¹¶è®¾è®¡å¼€å‘ä¸€ä¸ªæ˜“äºå·¥ç¨‹äººå‘˜ä½¿ç”¨çš„å¾®ä¿¡å°ç¨‹åºï¼Œæ¥è¾…åŠ©ä»–ä»¬è¿›è¡Œæ•…éšœçš„ç›‘æµ‹ä¸æ•…éšœåŸå› çš„åˆ¤æ–­ã€‚

æœ¬ä»“åº“åŒ…å«ä»¥ä¸‹å†…å®¹ï¼š

1. ç”¨äºè¿›è¡Œæ¨¡å‹è®­ç»ƒçš„è®­ç»ƒé›†train.csvä»¥åŠç”¨æ¥æµ‹è¯•æ¨¡å‹ä¼˜åŠ£çš„æµ‹è¯•é›†test.csvã€‚è¿™ä¸¤ä¸ªæ•°æ®é›†å·²è¢«å‹ç¼©åœ¨[data.zip](https://github.com/caidongqi/Industrial-Applet)ä¸­ã€‚
2. æ•°æ®é¢„å¤„ç†å’Œæ•°æ®å¯è§†åŒ–çš„ä»£ç [visual.ipython](https://github.com/caidongqi/Industrial-Applet/othercode)ä»¥åŠæ¨¡å‹è®­ç»ƒçš„ä»£ç [CNN_better.ipython](https://github.com/caidongqi/Industrial-Applet/othercode),è¿˜æœ‰ä¸€ä¸ªå…³äºè¿™ä¸¤ä¸ªæ–‡ä»¶çš„ä¸€äº›æ‹“å±•è¯´æ˜çš„æ–‡æ¡£ï¼ˆå»ºè®®ä¸‹è½½åä½¿ç”¨WPSæŸ¥çœ‹ï¼‰ã€‚
3. è®­ç»ƒå¥½çš„é¢„æµ‹æ¨¡å‹[cwru.model](https://github.com/caidongqi/Industrial-Applet)ä»¥åŠè°ƒç”¨æ¨¡å‹è¿›è¡Œé¢„æµ‹çš„æ–‡ä»¶[test_code.ipython](https://github.com/caidongqi/Industrial-Applet/code)ï¼Œå¯ç›´æ¥æŒ‰ç…§è°ƒç”¨æ–‡ä»¶ä¸­çš„è¯´æ˜ï¼Œä¿®æ”¹æœ¬åœ°å‚æ•°ï¼Œå¯¹æµ‹è¯•æ•°æ®é›†test.csvè¿›è¡Œæ•…éšœé¢„æµ‹ã€‚å‚è€ƒçš„é¢„æµ‹ç»“æœå·²æ”¾åœ¨[reslut.csv](https://github.com/caidongqi/Industrial-Applet)ä¸­ã€‚
4. ç²¾ç¾çš„é¡¹ç›®ä»‹ç»PPTã€‚

## å†…å®¹åˆ—è¡¨

- [å°ç¨‹åºè®¾è®¡æ€è·¯](#å°ç¨‹åºè®¾è®¡æ€è·¯)
	- [ç”¨æˆ·ç”»åƒå’Œè®¾è®¡åˆ†æ](#ç”¨æˆ·ç”»åƒå’Œè®¾è®¡åˆ†æ)
	- [é¢„æœŸå®ç°æ•ˆæœå’ŒåŠŸèƒ½](#é¢„æœŸå®ç°æ•ˆæœå’ŒåŠŸèƒ½)
- [Appç•Œé¢å’ŒåŠŸèƒ½å±•ç¤º](#Appç•Œé¢å’ŒåŠŸèƒ½å±•ç¤º)
- [CWRUæ•°æ®é›†é¢„æµ‹æ¨¡å‹](#CWRUæ•°æ®é›†é¢„æµ‹æ¨¡å‹)
	- [è¿è¡Œç¯å¢ƒ](#è¿è¡Œç¯å¢ƒ)
	- [æ•°æ®å¯è§†åŒ–åˆ†æ](#æ•°æ®å¯è§†åŒ–åˆ†æ)
	- [CNNå·ç§¯ç¥ç»ç½‘ç»œçš„æ­å»º](#CNNå·ç§¯ç¥ç»ç½‘ç»œçš„æ­å»º)
	- [æ¨¡å‹é¢„æµ‹ç»“æœå±•ç¤º](#æ¨¡å‹é¢„æµ‹ç»“æœå±•ç¤º)
- [ç«¯åˆ°ç«¯å·¥ç¨‹å®ç°æ–¹æ¡ˆ](#ç«¯åˆ°ç«¯å·¥ç¨‹å®ç°æ–¹æ¡ˆ)
	- [å¾®ä¿¡å°ç¨‹åºäº‘å‡½æ•°](#å¾®ä¿¡å°ç¨‹åºäº‘å‡½æ•°)
	- [APIè°ƒç”¨](#APIè°ƒç”¨)
	- [å¾®ä¿¡å°ç¨‹åºå‰ç«¯è®¾è®¡](#å¾®ä¿¡å°ç¨‹åºå‰ç«¯è®¾è®¡)
	- [å¾®ä¿¡å°ç¨‹åºåç«¯è®¾è®¡](#å¾®ä¿¡å°ç¨‹åºåç«¯è®¾è®¡)
- [ç›¸å…³ä»“åº“](#ç›¸å…³ä»“åº“)
- [ç»´æŠ¤è€…](#ç»´æŠ¤è€…)
- [å¦‚ä½•è´¡çŒ®](#å¦‚ä½•è´¡çŒ®)

## å°ç¨‹åºè®¾è®¡æ€è·¯
æƒ³è¦åšå‡ºä¸€ä¸ªæˆåŠŸçš„å°ç¨‹åºäº§å“ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦å……åˆ†åœ°äº†è§£æˆ‘ä»¬çš„å—ä¼—ï¼Œç»è¿‡ä¸€ç³»åˆ—çš„è°ƒç ”ï¼Œæˆ‘ä»¬ç»™å‡ºäº†æˆ‘ä»¬çš„ç›®æ ‡äººç¾¤`æœºæ¢°è¿ç»´äººå‘˜`çš„ç”¨æˆ·ç”»åƒã€‚å¹¶åˆ†æç”»å‡ºäº†å…¶ç”¨æˆ·æ—…ç¨‹å›¾ã€‚
### ç”¨æˆ·ç”»åƒå’Œè®¾è®¡åˆ†æ
![ç”¨æˆ·ç”»åƒ](picture/1.png)
æ¥ç€æˆ‘ä»¬æ ¹æ®ç”¨æˆ·ç”»åƒåˆç†åœ°æ¨æ–­å‡ºç”¨æˆ·æ—…ç¨‹å›¾ï¼Œå³ç”¨æˆ·åœ¨ä½¿ç”¨æˆ‘ä»¬çš„å°ç¨‹åºæ—¶å¯èƒ½ä¼šä½¿ç”¨åˆ°çš„æµç¨‹ã€‚
![ç”¨æˆ·æ—…ç¨‹å›¾](picture/2.png)
### é¢„æœŸå®ç°æ•ˆæœå’ŒåŠŸèƒ½
ç»è¿‡ä¸Šè¿°çš„åˆ†æï¼Œæˆ‘ä»¬ç»™å‡ºäº†æˆ‘ä»¬çš„å°ç¨‹åºçš„åŸå‹å›¾ã€‚
![å°ç¨‹åºåˆç¨¿](picture/3.png)
## APPç•Œé¢å’ŒåŠŸèƒ½å±•ç¤º

## CWRUæ•°æ®é›†é¢„æµ‹æ¨¡å‹

### è¿è¡Œç¯å¢ƒ

è¿™ä¸ªé¡¹ç›®åŸºäº[python 3.7](https://www.python.org/)ã€‚è¯·ç¡®ä¿ä½ æœ¬åœ°å®‰è£…äº†å®ƒä»¬ä¸”ç‰ˆæœ¬æ­£ç¡®ï¼Œå¦åˆ™å¯èƒ½å‡ºç°æœªçŸ¥çš„é”™è¯¯ã€‚

æˆ‘ä»¬å»ºè®®ä½ å®‰è£…[anaconda](https://www.anaconda.com/)æ¥ç®¡ç†ä¸åŒç‰ˆæœ¬çš„pythonä»¥åŠåº“æ–‡ä»¶ï¼Œå¹¶å®‰è£… [jupyter notebook](https://jupyter.org/)æ¥æ–¹ä¾¿åœ°è¿è¡Œæˆ‘ä»¬çš„ç¨‹åºã€‚

æ­¤å¤–ï¼Œæœ¬é¡¹ç›®ä¾èµ–çš„åº“æ–‡ä»¶æœ‰Tensorflow (1.14.0)å’Œ Keras (2.3.1)ï¼Œè¯·æå‰å®‰è£…å¥½ä»–ä»¬ã€‚

```sh
pip install tensorflow==1.14.0
pip install keras==2.3.1
```

### æ•°æ®å¯è§†åŒ–åˆ†æ
é¦–å…ˆæˆ‘ä»¬é€šè¿‡è°ƒç”¨pychartå¯¹CWRUæ•°æ®é›†çš„ä¸‰ä¸ªå±æ€§ï¼šDE-timeï¼ŒFE-timeï¼ŒBA-timeè¿›è¡Œå¯è§†åŒ–ã€‚æˆ‘ä»¬å‘ç°ï¼Œå„ç±»å±æ€§ä¹‹é—´æœ‰ç€ä¸åŒçš„ç©ºé—´åˆ†å¸ƒï¼Œå³å­˜åœ¨ç€æœ‰ä¸€å®šè§„å¾‹çš„æ•°æ®çš„å·®å¼‚ï¼Œæ•…è€Œæˆ‘ä»¬å¯ä»¥æ ¹æ®å·²æœ‰çš„æ•°æ®è¿›è¡Œå»ºæ¨¡æ‰¾å‡ºè¿™ä¸ªè§„å¾‹ï¼Œä»è€Œå¯¹æ–°çš„æ•°æ®è¿›è¡Œé¢„æµ‹ã€‚

![3Då¯è§†åŒ–](picture/pic1.png)

æ¥ç€æˆ‘ä»¬å¯¹ä¸åŒç±»å‹çš„æ•°æ®è¿›è¡Œè¿‡é‡‡æ ·ï¼Œä½¿å¾—ä»–ä»¬çš„æ•°é‡å¤§è‡´ç›¸åŒï¼Œä»¥ä¾¿è§‚å¯Ÿã€‚å¯ä»¥çœ‹åˆ°ï¼Œä¸åŒç§ç±»ä¹‹é—´ï¼Œæ•°æ®ä¹‹é—´è¿˜æ˜¯å­˜åœ¨è¾ƒå¤§å·®å¼‚çš„ã€‚

![ä¸åŒç§ç±»æ•°æ®è§‚å¯Ÿ](picture/pic2.png)

æœ€åç”»å‡ºæç´å›¾ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°è™½ç„¶å„æ•°æ®ä¹‹é—´ï¼Œå…¶åˆ†å¸ƒæœ‰æ˜æ˜¾çš„å·®å¼‚ï¼Œä½†æ˜¯å…¶å˜åŒ–èŒƒå›´å‡ ä¹é‡åˆï¼Œè¿™ç»™æˆ‘ä»¬çš„é¢„æµ‹å¸¦æ¥äº†éš¾åº¦ã€‚é€šè¿‡å•ä¸€çš„ä¸€æ¡æ•°æ®æ˜¾ç„¶æ˜¯æ— æ³•è·å¾—è¾ƒå¥½çš„é¢„æµ‹ç»“æœçš„ã€‚

![æç´å›¾](picture/pic3.png)

### CNNå·ç§¯ç¥ç»ç½‘ç»œçš„æ­å»º
æˆ‘ä»¬çš„æ¨¡å‹æ˜¯ä½¿ç”¨å·ç§¯ç¥ç»ç½‘ç»œï¼ˆConvolutional Neural Networks. CNNï¼‰è®­ç»ƒå‡ºæ¥çš„ï¼Œæƒ³äº†è§£å…¶åŸç†çš„ï¼Œå¯ä»¥å‚è€ƒ[ä¸€ç¯‡CSDNçš„åšå®¢](https://blog.csdn.net/love__live1/article/details/79481052)ï¼Œè®²çš„å¾ˆé€šä¿—æ˜“æ‡‚ï¼Œå…³é”®æ˜¯ç”»çš„å›¾ååˆ†åœ°å½¢è±¡ï¼Œæ¨èåˆšæ¥è§¦CNNçš„å¯ä»¥æŠ½ç©ºé˜…è¯»ä¸€ä¸‹ã€‚

ä¸‹é¢æ˜¯æ¨¡å‹å»ºç«‹çš„æ ¸å¿ƒä»£ç ï¼š
```sh
x_train, x_valid, x_test = x_train[:,:,np.newaxis], x_valid[:,:,np.newaxis], x_test[:,:,np.newaxis]   #å¦‚æœä½¿ç”¨ä¸¤ä¸ªç‰¹å¾ï¼Œåˆ™æ³¨é‡Šè¿™ä¸€è¡Œ

# è¾“å…¥æ•°æ®çš„ç»´åº¦
input_shape =x_train.shape[1:]
# å®ä¾‹åŒ–ä¸€ä¸ªSequential
model = Sequential()

#ç¬¬ä¸€å±‚å·ç§¯
model.add(Conv1D(filters=64, kernel_size=20, strides=8, padding='same',kernel_regularizer=l2(1e-4), input_shape=input_shape))
model.add(BatchNormalization())
model.add(Activation('relu'))
model.add(MaxPooling1D(pool_size=4, strides=4, padding='valid'))


# ä»å·ç§¯åˆ°å…¨è¿æ¥éœ€è¦å±•å¹³
model.add(Flatten())

# æ·»åŠ å…¨è¿æ¥å±‚
model.add(Dense(units=100, activation='relu', kernel_regularizer=l2(1e-4)))
# å¢åŠ è¾“å‡ºå±‚ï¼Œå…±num_classesä¸ªå•å…ƒ
model.add(Dense(units=num_classes, activation='softmax', kernel_regularizer=l2(1e-4)))


# ç¼–è¯‘æ¨¡å‹
model.compile(optimizer='Adam', loss='categorical_crossentropy',
              metrics=['accuracy'])

# TensorBoardè°ƒç”¨æŸ¥çœ‹ä¸€ä¸‹è®­ç»ƒæƒ…å†µ
tb_cb = TensorBoard(log_dir='logs/{}'.format(model_name))

# å¼€å§‹æ¨¡å‹è®­ç»ƒ
model.fit(x=x_train, y=y_train, batch_size=batch_size, epochs=epochs,
          verbose=1, validation_data=(x_valid, y_valid), shuffle=True,
          callbacks=[tb_cb])

# è¯„ä¼°æ¨¡å‹
score = model.evaluate(x=x_test, y=y_test, verbose=0)
print("æµ‹è¯•é›†ä¸Šçš„æŸå¤±ç‡ï¼š", score[0])
print("æµ‹è¯•é›†ä¸Šçš„å‡†ç¡®ç‡ï¼š", score[1])
# plot_model(model=model, to_file='cnn-1D.png', show_shapes=True)
```

æœ¬æ¬¡è¯¾è®¾ä¸­ï¼Œæˆ‘ä»¬åˆ©ç”¨kerasæ­å»ºäº†ä¸€ä¸ªä¸€ç»´çš„å·ç§¯ç½‘ç»œï¼Œç½‘ç»œä¸­æœ‰20ä¸ªå·ç§¯æ ¸ï¼Œå·ç§¯æ­¥é•¿ä¸º8ã€‚ä½¿ç”¨Reluå‡½æ•°ä½œä¸ºæ¿€æ´»å‡½æ•°ï¼Œæ± åŒ–æ–¹å¼é€‰æ‹©æœ€å¤§å€¼æ± åŒ–ã€‚å› ä¸ºCNNè‡ªå¸¦å·ç§¯ç‰¹å¾æå–ï¼Œæ•…`æ•°æ®é¢„å¤„ç†`é˜¶æ®µåªç”¨è¿›è¡Œ**åŠ çª—å¤„ç†**ã€‚ç„¶åå–åˆ°å¤„ç†åçš„1024å¸§çš„æ•°æ®ï¼ŒæŒ‰ç…§3ï¼š6ï¼š1çš„æ¯”ä¾‹åˆ’åˆ†æµ‹è¯•é›†ã€è®­ç»ƒé›†å’ŒéªŒè¯é›†ï¼Œå°†è®­ç»ƒé›†çš„æ•°æ®ä½œä¸ºè¾“å…¥ä¼ å…¥ç½‘ç»œä¸­è¿›è¡Œè®­ç»ƒï¼ŒåŒæ—¶æ¯ä¸€è½®è®­ç»ƒå®Œæ¯•ä¹‹åï¼Œç”¨éªŒè¯é›†åˆæŸ¥çœ‹è®­ç»ƒçš„ç»“æœã€‚å…¨éƒ¨è®­ç»ƒç»“æŸä¹‹åï¼Œç”¨æµ‹è¯•é›†æ¥æœ€ç»ˆç¡®å®šæ¨¡å‹çš„ä¼˜è‰¯ç¨‹åº¦ã€‚
### æ¨¡å‹é¢„æµ‹ç»“æœå±•ç¤º
![CNNç»“æœå±•ç¤º](picture/CNN_result_presentation.png)
å¯ä»¥çœ‹åˆ°ï¼ŒCNNçš„æ”¶æ•›é€Ÿåº¦å¾ˆå¿«ï¼Œä¸”æœ€ç»ˆçš„è®­ç»ƒæ•ˆæœå¾ˆæ£’ï¼
## ç«¯åˆ°ç«¯å·¥ç¨‹å®ç°æ–¹æ¡ˆ
### å¾®ä¿¡å°ç¨‹åºäº‘å‡½æ•°
### API è°ƒç”¨
### å¾®ä¿¡å°ç¨‹åºå‰ç«¯è®¾è®¡
### å¾®ä¿¡å°ç¨‹åºåç«¯è®¾è®¡



`æ ‡å‡† Readme` æœ€å¼€å§‹å› ä¸º [@maxogden](https://github.com/maxogden) åœ¨é¡¹ç›® [feross/standard](https://github.com/feross/standard) çš„[è¿™ä¸ª 

1. ä¸€ä¸ªå®šä¹‰è‰¯å¥½çš„**è§„èŒƒ**ã€‚åœ¨ä»“åº“ä¸­çš„ä½ç½®æ˜¯ [spec.md](spec.md)ã€‚å®ƒæ˜¯ä¸€ä¸ªä¸€ç›´åœ¨æŒç»­ä¼˜åŒ–çš„æ–‡æ¡£ï¼Œæ¬¢è¿æ‚¨æ Issue è®¨è®ºå…¶ä¸­çš„å˜åŒ–ã€‚
2. ä¸€ä¸ª**ç¤ºä¾‹ README**ã€‚è¿™ä¸ª Readme å®Œå…¨éµä» Standard-readmeï¼Œè€Œä¸”åœ¨ `example-readmes` æ–‡ä»¶å¤¹é‡Œæœ‰æ›´å¤šçš„ç¤ºä¾‹ã€‚
3. ä¸€ä¸ª**è¯­æ³•æç¤ºå™¨**ç”¨æ¥æç¤ºåœ¨ Readme ä¸­çš„è¯­æ³•é”™è¯¯ã€‚è¯·å‚è€ƒ [tracking issue](https://github.com/RichardLitt/standard-readme/issues/5)ã€‚
4. ä¸€ä¸ª**ç”Ÿæˆå™¨**ç”¨æ¥å¿«é€Ÿæ­å»ºæ–°çš„ README çš„æ¡†æ¶ã€‚è¯·å‚è€ƒ [generator-standard-readme](https://github.com/RichardLitt/generator-standard-readme)ã€‚
5. ä¸€ä¸ª**æ ‡è¯†å‡†å®ˆè§„èŒƒçš„å¾½ç« **ã€‚è¯·å‚è€ƒ

## å®‰è£…

è¿™ä¸ªé¡¹ç›®ä½¿ç”¨ [node](http://nodejs.org) å’Œ [npm](https://npmjs.com)ã€‚è¯·ç¡®ä¿ä½ æœ¬åœ°å®‰è£…äº†å®ƒä»¬ã€‚

```sh
$ npm install --global standard-readme-spec
```


## ç›¸å…³ä»“åº“

- [Standard Readme](https://github.com/RichardLitt/standard-readme) â€” ğŸ’Œ å†™é«˜è´¨é‡ README çš„è‰ºæœ¯ã€‚

## ç»´æŠ¤è€…

[@bupt_caidongqi](https://github.com/caidongqi)ã€‚

## å¦‚ä½•è´¡çŒ®

éå¸¸æ¬¢è¿ä½ çš„åŠ å…¥ï¼[æä¸€ä¸ª Issue](https://github.com/caidongqi/Industrial-Applet/issues/new) æˆ–è€…æäº¤ä¸€ä¸ª Pull Requestã€‚


### è´¡çŒ®è€…

æ„Ÿè°¢ä»¥ä¸‹å‚ä¸é¡¹ç›®çš„äººï¼š
